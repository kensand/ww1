var quiz = [{question:"Why did Europeans Colonize Africa?", answers:["Economic", "Political", "Religious", "All of the other answers"], solution:3},
	        {question:"Why was Africa easy to conquer for Europeans?",answers:["Europeans had better military",	"Europeans had better technology", "Europeans knew African land better",	"Europeans had better military and technology"], solution:3},
	        {question:"What Year did German Unification Occur?",answers:["1914", "1776", "1871", "1870"], solution:2},
	        {question:"Who was the main leader of German Unification?",answers:["Otto Von Bismarck", "Adolf Hitler", "Wilhelm I", "Wilhelm II"], solution:0},
	        {question:"Why were the Balkans Unstable?",answers:["Various Ethnic Groups", "Collapse of the Ottoman Empire", "Various Relegious Groups", "All of the other answers"], solution:3},
	        {question:"What Country/Empire supported Serbia?",answers:["England", "Russia", "Austria-Hungary", "France"], solution:1},
	        {question:"What year were airplanes used for Military Purpose?",answers:["1903", "1911", "1914", "1918"], solution:1},
	        {question:"Why did Zeppelins fail as weapons in WWI?",answers:["As the war went on Airplanes became more effective than the Zeppelins", "Inaccurate due to high altitude bombing", "New incendiary ammo made Zeppelins easier to shoot down", "All of the other answers"], solution:3},
	        {question:"Who was not part of the Triple Alliance?",answers:["Ottoman Empire", "Austria-Hungary", "Germany", "Italy"], solution:0},
{question:"Which nation would switch sides during the war?",answers:["United States of America", "Netherlands", "Italy", "Russia"], solution:2},
{question:"Whose assassination was a major cause of WWI?", answers:["Archduke Franz Ferdinand", "Otto Von Bismarck", "Franz Joseph", "Heinrich Lammasch"], solution:0},
	{question:"Which nation would declare war first?",answers:["Austria-Hungary declared war on Serbia", "Austria-Hungary declared war on England", "England declared War on Germany", "Russia declared war on Austria-Hungary"], solution:0},
	{question:"What was the purpose of the Schlieffen Plan?",answers:["A strategy for a two front war for Germany", "To take out France in 6 weeks", "Defeat Russia after it mobilizes", "All of the other answers"], solution:3},
	{question:"What Country did Germany invade to flank France?",answers:["Belgium", "Luxembourg", "Switzerland", "Belgium and Luxembourg"], solution:3},
	{question:"What was barbed wire used for first?",answers:["To contain livestock", "Bridge suspension", "Military defenses", "Sturdy Rope"], solution:0},
	{question:"Why is the first Battle of the Marne Important?",answers:["The Ententes first major victory", "German offensive pushed to Paris", "The failure of the Schlieffen Plan", "The Ententes first major victory and the failure of the Schlieffen Plan"], solution:3},
	{question:"When year and event made the Ottoman Empire join the war?",answers:["1915 and the Gallipoli Campaign","1915 and the Black Sea Raids", "1914 and the Secret Treaty with Germany", "1914 and Attacking Greece"], solution:2},
	{question:"How many offensives did it take before the Austro-Hungarians retreated from Serbia in 1914",answers:["1","2","3","4"], solution:2},
	{question:"Why was WWI a total War?",answers:["Many civilians were enlisted to fight", "Military fronts were in civilian areas", "Bombing of civilian areas", "All of the other answers"], solution:3},
	{question:"What was the Race to the Sea?",answers:["A Peace treaty for Christmas where Germans and French ran around on the Coast", "Various battles that occurred at the frontline that ended near the coast", "The military operations of building trenches from Switzerland to the coast", "Various battles that occurred at the frontline that ended near the coast and the military operations of building trenches from Switzerland to the coast"], solution:3},
	{question:"Why was Propaganda used in WWI?",answers:["To instill Patriotism and Nationalism", "To encourage enlisting", 'Alter opinion of the "Enemy"', "All of the other answers"], solution:3},
{question:"Why did Germany stop its unrestricted submarine warfare?", answers:["President Wilson's response to the Sinking of the Lusitania", "All of the German U-boats were destroyed", "The munitions for the U-boats need to be used on the frontlines", "The Austro-Hungarians requested them to stop"], solution:0},
	    {question:"What was the importance of the British tapping the German Transatlantic cable?",answers:["Allowed only British Propaganda reach the USA", "Allowed The British to spy on Germany", "Allowed Neutral nations to trade with the British", "Allowed only British Propaganda reach the USA and allowed The British to spy on Germany"], solution:3},
	    {question:"What nations in WWI controlled part of modern day Poland?",answers:["Germany, Austria-Hungary, Russia", "Germany, Austria-Hungary, France", "Norway, Germany, Russia", "Austria-Hungary, Romania, Germany"], solution:0},
	    {question:"Who was victorious by the end of 1915 in the Poland Campaign?",answers:["Russia controlled all of Poland", "Germany controlled all of Russian Poland", "Austria-Hungary controlled all of Russian Poland", "No decisive victory"], solution:1},
	    {question:"What two weapons made their first appearance in the Second Battle of Ypres?",answers:["Gas and Barbed Wire", "Gas and Tanks", "Gas and Flamethrowers", "Gas and Automatic Rifles"], solution:2},
	    {question:"What was the lethality of gas weapons (Killed and injured)?",answers:["25%", "5%" ,"10%", "1%"], solution:1},
	    {question:"What were symptoms of Shell Shock?",answers:["Nervous and Mental Shock", "Headaches and Deafness", "Shockwaves from shells fired", "Wounds from Artillery"], solution:0},
	    {question:"What was a major reason the Gallipoli Campaign failed?",answers:[
		"Ottomans were able to defend their Capital","Naval Assault failed","Serbian Defeat in Serbia","All of the other choices"], solution:3},
	    {question:"Which countries celebrate ANZAC day for their soldier's sacrifice during the Gallipoli Campaign and all other conflicts?",
	     answers:["Australia and New Zealand","Australia and India","New Zealand and Canada","Australia and Canada"], solution:0},
	    {question:"Why did Italy not declare war at the beginning of WWI?",answers:["Their military was not prepared to fight at the start of the war","Were afraid of a French Invasion","Their alliance with Germany and Austria-Hungary was a defensive alliance not offensive","Italy was busy with an African Colonial War"], solution:2},
	    {question:"What was the impact of the second invasion of Serbia in 1915?",answers:["Major victory for Central Powers","Clear train route between Central Powers","Bulgaria would join Central Powers","All of the other choices"], solution:3},
	    {question:"What was the Treaty of London?",answers:["Italy joining the Entente","granting Austro-Hungarian land to Italy after the War","granting Austro-Hungarian land to Serbia and Montenegro after the war","All of the other choices"], solution:3},
{question:"How many soldiers died during the battle of Verdun (estimated)?",answers:["143,000","162,000","305,000","254,000"], solution:2},
{question:"In the aftermath of Verdun, how many French villages and towns were destroyed?",answers:["11","10","13","15"], solution:1},
{question:"What made its first appearance at the Battle of the Somme?",answers:["Airships","Tanks","Airplane Bombers","Gas Weapons"], solution:1},
{question:"What did the Battle of the Somme do to Germany's strategy?",answers:["A defensive line was formed on the western front","An invasion of Russia","A decisive german offensive in France","Germany withdrawing from Russian Front"], solution:0},
{question:"Who was victorious in the Battle of Jutland?",answers:["German victory","Indecisive victory","British Victory","French Victory"], solution:1},
{question:"How many Armenians were killed between 1915 and 1923",answers:["1.5 Million","1 Million","2 Million","0.5 Million"], solution:0},
{question:"What was the impact of the Brusilov Offensive?",answers:["Massive Austro-Hungarian casualties","Forced Germany to withdraw from Verdun Offensive","Ottoman withdrawal from Black Sea","Massive Austro-Hungarian casualties and Forced Germany to withdraw from Verdun Offensive"], solution:3},
{question:"Why did the Ottoman Empire commit genocide during WWI",answers:["To remove religious groups from the Empire","To remove revolutionaries or possible Entente Supporters","To remove ethnic groups from the Empire","All other choices"], solution:3},


{question:"Why did the United States enter WWI?",answers:["A German telegram to Mexico, suggesting that they declare war on the USA","Unrestricted U-boat attacks began again in 1917","Germany declared war on the United States","A German telegram to Mexico, suggesting that they declare war on the USA","Unrestricted U-boat attacks began again in 1917"], solution:3},
{question:"What was the major cause of the Russian revolutions?",answers:["Weakening Monarchy under Nicholas II	War weariness","Communist ideology spreading","All other choices"], solution:3},
{question:"Which revolution gave communist control of Russia?",answers:["March/Red Revolution","October /Bolshevik Revolution","February / Duma Revolution","June/Stalin Revolution"], solution:1},
{question:"What was the importance of the Italian Front in 1917",answers:["Germany needed Austria-Hungary to keep fighting","Italians were backing off to fight in Greece Instead","It was stalemate between Austria-Hungary and Italy","Germany needed Austria-Hungary to keep fighting and It was stalemate between Austria-Hungary and Italy"], solution:3},
{question:"Who would aid the Arabs in their revolution and fighting against the Ottomans?",answers:["Winston Churchill","T. E. Lawrence","John Maxwell","Edward Bulfin"], solution:1},
{question:"Why did the Arabs join British Forces?",answers:["Were offered large amount of land if victorious","Opposed the Ottoman Rule","They were offered a large amount of money/wealth","Were offered large amount of land if victorious and Opposed the Ottoman Rule"], solution:3},
{question:"What battle of Ypres is know as the battle of Passchendaele",answers:["First Battle of Ypres","Second Battle of Ypres","Third Battle of Ypres","Fourth Battle of Ypres"], solution:2},


{question:"What was the objective of the Spring Offensive?",answers:["To take finish the war on west via breaking Entente lines","To take out Italy","To to take out Entente forces by reaching English Channel","To take on Entente head on"], solution:0},
{question:"Why were the Entente able to push back Germany in the 100 Day Offensive?",answers:["Germany was weakened after their Spring Offensive","got American and Entente reinforcements","Caught Germans by surprise with their counter attack","All other choices"], solution:3},
{question:"When was the Armistice signed to stop the war?",answers:["11/11/1918","10/21/1919","6/28/1919","10/25/1917"], solution:0},
{question:"Why did Germany have problems with the Versailles Peace Treaty?",answers:["They were given the reparations for a total of $31 Billion ($442 Billion Today)","Were blamed to be only one responsible for WWI (War Guilt)","Its population would not be happy if signed","All other choices"], solution:3},
{question:"Why did Woodrow Wilson get a Nobel Prize?",answers:["For creating the League of Nations","For ensuring peace after WWI","For stopping the Ottoman Genocides","For creating the League of Nations and For ensuring peace after WWI"], solution:3},
{question:"What were the broad goals of Wilson's 14 points",answers:["Restore territory to nations and create new nations from old ones","Create a League of Nations","Create international peace","All Choices"], solution:3},


{question:"What events lead to the founding of Israel?",answers:["Balfor Declaration for a jewish state","Sykes-Picot Agreement influence on the Middle East","Ottoman Doctrine to give Middle East to its native populations","Balfor Declaration for a jewish state and Sykes-Picot Agreement influence on the Middle East"], solution:3},
{question:"What was a major impact of Communism/ Marxism Socialism in Russia?",answers:["Rapidly evolved Russia from Agrarian to Industrial Society","Their ideology spread with rapid success in Europe","New social programs aided population","Rapidly evolved Russia from Agrarian to Industrial Society and New social programs aided population"], solution:3},
{question:"Even after Peace, why did World War II occur?",answers:["Germany was not demilitarized completely","League of Nations did not prevent future conflicts","Weak replacement government allowed for Hitler to rise in power","All other choices"], solution:3},
{question:"Why did US start to become a world superpower after WWI?",answers:["Late joining of war, meant less casualties","No battles on American Soil","Major Industrialization and Economic Boom during the War","All other choices"], solution:3},
{question:"What major nation proposed the League of Nations but never joined?",answers:["France","Britan","The United States","Germany"], solution:2},
{question:"How many new nations existed after the Treaty of Versailles?",answers:["9","10","8","7"], solution:0},
{question:"How many people were casualties in WWI?",answers:["Over 35 Million casualties","25 Million Casualties","Over 40 Million Casualties","Over 30 Million Casualties"], solution:0}];



var input = [];

var questionTime = 3000;
//var questionNumber = 0;
var correctAnswers = 0;
var startTime = new Date().getTime();
var run = true;
var answer = null;
var numbers = new Array(quiz.length).fill(false);

//beginning
var empty = function(cont){
    while (cont.hasChildNodes()) {
	cont.removeChild(cont.lastChild);
    }
}

var loadQuestion = function(cont){
    empty(cont);
    var div = document.createElement("div");
    var q = document.createElement("h1");

    var number = Math.floor(Math.random() * quiz.length);
    while(numbers[number]){
	number = Math.floor(Math.random() * quiz.length);
    }
    q.appendChild(document.createTextNode(quiz[number].question));
    div.appendChild(q);
    for(var j = 0; j < quiz[number].answers.length; j++){
	
	var button = document.createElement("a");
	q = document.createElement("h1");
	q.appendChild(document.createTextNode(quiz[number].answers[j]));
	q.className+="noSelect";
	button.appendChild(q);
        button.className = "quizButton";
	button.ans = j;
	button.onclick = function(){
	    numbers[number] = true;
	    submitAnswer(this.ans, number);
	    if(input.length == quiz.length){
		endQuiz(cont);
	    }
	    else{
		loadQuestion(cont);
	    }
	}
	var list = div.getElementsByClassName("quizButton")
	if(list.length == 0){
	    div.appendChild(button);
	}
	else{
	    
	    div.insertBefore(button, list[Math.floor(Math.random() *list.length)]);
	}
    }
    cont.appendChild(div);
    answer = null;
}

var submitAnswer = function(ans, questionNumber){
    if(ans == quiz[questionNumber].solution){
	correctAnswers++;
    }
    input.push(ans);
}

var endQuiz = function(cont){
    empty(cont);
    var div = document.createElement("div");
    var q = document.createElement("h1");    
    q.appendChild(document.createTextNode("Your score:" + correctAnswers.toString() + " out of " + quiz.length.toString()));
    div.appendChild(q);
    cont.appendChild(div);
    for(var i = 0; i < quiz.length; i++){
	var div = document.createElement("div");
	var q = document.createElement("h2");    
	q.appendChild(document.createTextNode("Question " + (i+1).toString()));

	div.appendChild(q);
	var q = document.createElement("p");    
	q.appendChild(document.createTextNode(quiz[i].question));
	
	div.appendChild(q);
	var q = document.createElement("p");    
	q.appendChild(document.createTextNode("Your answer: " + quiz[i].answers[input[i]]));
	
	div.appendChild(q);
	var q = document.createElement("p");    
	q.appendChild(document.createTextNode("Correct answer: " + quiz[i].answers[quiz[i].solution]));
	div.style.textAlign = "left";
	div.className+="quizAns";
	div.appendChild(q);
	cont.appendChild(div);

    }
}

var createStartButton = function(){
    var container = document.getElementById("chapterquiz");
    var button = document.createElement("a");
    empty(container);
    button.className = "quizStartButton";
    //button.id = "quizStartButton";
    button.appendChild(document.createTextNode("Start Test"));
    
    button.onclick = function(){
	loadQuestion(container, 0);
    }
    
    container.appendChild(button);
}

createStartButton();

